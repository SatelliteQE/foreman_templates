<%#
name: Ansible Roles - Install from Galaxy
snippet: false
template_inputs:
- name: ansible_roles_list
  required: true
  input_type: user
  description: "List of roles in Ansible Galaxy to install, separated by commas, e.g:
    \"mysql, nginx\"\r\n\r\nThe default location is the 'roles_path' configured on
    /etc/ansible/ansible.cfg, you may override it by filling the 'location' input.
    Click on \"Advanced\" to see it."
  advanced: false
  value_type: plain
- name: location
  required: false
  input_type: user
  description: A particular directory where you want the downloaded roles to be placed.
  advanced: true
  value_type: plain
model: JobTemplate
job_category: Ansible Galaxy
description_format: Install roles '%{ansible_roles_list}' from Galaxy
provider_type: Ansible
kind: job_template
organizations:
- BhUhPDHFye
- CIBJkCQvCfgO
- dBjLriSsq
- Default Organization
- DepeSkP
- DqlpOHzCLFyX
- drnRRt
- eAKRHzczPd
- ERSumL
- gARZrlgHZn
- gVBWXLf
- HeVFgNkFW
- iBhOdkIBo
- InxxGMf
- IWSaxOMON
- jamtam
- jUXOTgHXGGp
- jySYuJN
- LFUONnUfzQ
- lGswKra
- lTqpQkSHcWh
- MeWGuj
- mgUzfBAGYui
- MsOoqpYokh
- NCywRm
- org1
- PGwaHGZIdri
- QoOaThegmx
- RGVweWbmnmeI
- rJgPTBkeTg
- RxOyKLiTd
- sOwegXDKtBmd
- tUlRQwvH
- UeOsvoTtmC
- uXolNZydFnMF
- wHkkJnTNAi
- WhvvLtTpeo
- wKdVHbjovY
- wQnrfInhYVa
- XwJODjYjbGT
- YiJVraCXxU
- zGAzHqh
locations:
- ajqpGP
- b3pQZowPU2
- BQnkRPmaia
- ChdBXYBsZlco
- Default Location
- gnqIsEtD
- H1abfbYhw8
- iXyIzkR
- KTHWMm
- Loc1
- nRnVnIKcIa
- ONoeatqq
- qBizSANkVw
- SJfwaOBSvAHb
- ViYeEwiX
- vmeKkU
- VYkuNrB
- WeZvFKOiTX
- wNndyNFmh
- ZomaYQPo
- ZVChJBCXnS
%>

---
- hosts: all
  tasks:
    - command: ansible-galaxy install {{ item }} <% "-p #{input('location')}" if input('location').present? %>
      register: out
      with_items:
        - <%= input('ansible_roles_list') %>
    - debug: var=out